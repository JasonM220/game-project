[gd_scene load_steps=48 format=3 uid="uid://j24yk617pp11"]

[ext_resource type="Script" path="res://scripts/vagabond.gd" id="1_xmx3j"]
[ext_resource type="Texture2D" uid="uid://dijhyc6jxemrs" path="res://assets/sprites/vagabond/death/death01.png" id="2_4yj44"]
[ext_resource type="Texture2D" uid="uid://cfu1x4qmoxqg2" path="res://assets/sprites/vagabond/idle/idle01.png" id="2_i0ki3"]
[ext_resource type="Texture2D" uid="uid://dxgldrgg2n6ii" path="res://assets/sprites/vagabond/jump/jump03.png" id="2_oby6r"]
[ext_resource type="Texture2D" uid="uid://cia5wm3wgxkx4" path="res://assets/sprites/vagabond/death/death02.png" id="3_62iae"]
[ext_resource type="Texture2D" uid="uid://r2hcoqjuq3d6" path="res://assets/sprites/vagabond/idle/idle02.png" id="3_hcxj0"]
[ext_resource type="Texture2D" uid="uid://yd4tvrn6tqj0" path="res://assets/sprites/vagabond/death/death03.png" id="4_heomt"]
[ext_resource type="Texture2D" uid="uid://ba7qo3y50i81w" path="res://assets/sprites/vagabond/idle/idle03.png" id="4_ijbeg"]
[ext_resource type="Texture2D" uid="uid://bsyqrokvhek5s" path="res://assets/sprites/vagabond/death/death04.png" id="5_3ocgs"]
[ext_resource type="Texture2D" uid="uid://cb6222bcs5h4w" path="res://assets/sprites/vagabond/idle/idle04.png" id="5_8dxds"]
[ext_resource type="Texture2D" uid="uid://b7ju74slxbaes" path="res://assets/sprites/vagabond/idle/idle05.png" id="6_5u56i"]
[ext_resource type="Texture2D" uid="uid://celv5mutsofnx" path="res://assets/sprites/vagabond/death/death05.png" id="6_p1y45"]
[ext_resource type="Texture2D" uid="uid://dn2s3h3ar1ksi" path="res://assets/sprites/vagabond/idle/idle06.png" id="7_7jlxp"]
[ext_resource type="Texture2D" uid="uid://cf48ybuu43ff6" path="res://assets/sprites/vagabond/death/death06.png" id="7_ud4ha"]
[ext_resource type="Texture2D" uid="uid://2aee2nginmqf" path="res://assets/sprites/vagabond/death/death07.png" id="8_duylg"]
[ext_resource type="Texture2D" uid="uid://ymxavjwbb54h" path="res://assets/sprites/vagabond/idle/idle07.png" id="8_xjdlw"]
[ext_resource type="Texture2D" uid="uid://ujp6ckbd562m" path="res://assets/sprites/vagabond/idle/idle08.png" id="9_asr0c"]
[ext_resource type="Texture2D" uid="uid://djmi1xm2jqamm" path="res://assets/sprites/vagabond/idle/idle09.png" id="10_aom8w"]
[ext_resource type="Texture2D" uid="uid://dk233tsrkb8yx" path="res://assets/sprites/vagabond/idle/idle10.png" id="11_joj13"]
[ext_resource type="Texture2D" uid="uid://csnaef7jdixy5" path="res://assets/sprites/vagabond/idle/idle11.png" id="12_mp1gk"]
[ext_resource type="Texture2D" uid="uid://hul4lswccupk" path="res://assets/sprites/vagabond/idle/idle12.png" id="13_6vis8"]
[ext_resource type="Texture2D" uid="uid://bblffgevt1mbl" path="res://assets/sprites/vagabond/idle/idle13.png" id="14_w70un"]
[ext_resource type="Texture2D" uid="uid://cqwsxwpccku47" path="res://assets/sprites/vagabond/idle/idle14.png" id="15_ybwnu"]
[ext_resource type="Texture2D" uid="uid://bdmaxjldibtrp" path="res://assets/sprites/vagabond/idle/idle15.png" id="16_jgyt7"]
[ext_resource type="Texture2D" uid="uid://cvvsr13akym1p" path="res://assets/sprites/vagabond/idle/idle16.png" id="17_hg5iy"]
[ext_resource type="Texture2D" uid="uid://3rqy4d1b4vvo" path="res://assets/sprites/vagabond/idle/idle17.png" id="18_gcfrs"]
[ext_resource type="Texture2D" uid="uid://cv0k78okpad8f" path="res://assets/sprites/vagabond/idle/idle18.png" id="19_1rde4"]
[ext_resource type="Texture2D" uid="uid://bxbcj17lmu1xw" path="res://assets/sprites/vagabond/idle/idle19.png" id="20_dv5jo"]
[ext_resource type="Texture2D" uid="uid://ct5mt22yb4kbo" path="res://assets/sprites/vagabond/idle/idle20.png" id="21_xdhil"]
[ext_resource type="Texture2D" uid="uid://cjnxhg8vh5e8f" path="res://assets/sprites/vagabond/jump/jump01.png" id="23_dg3jf"]
[ext_resource type="Texture2D" uid="uid://d307hwi3udjlf" path="res://assets/sprites/vagabond/jump/jump02.png" id="24_uldx0"]
[ext_resource type="Texture2D" uid="uid://b8q726rskyjwp" path="res://assets/sprites/vagabond/run/run01.png" id="25_rsc81"]
[ext_resource type="Texture2D" uid="uid://c1ef3m0ktjuwp" path="res://assets/sprites/vagabond/run/run02.png" id="26_34r3a"]
[ext_resource type="Texture2D" uid="uid://c6a7k27meiie6" path="res://assets/sprites/vagabond/run/run03.png" id="27_olq1g"]
[ext_resource type="Texture2D" uid="uid://cfldidoawgjbi" path="res://assets/sprites/vagabond/run/run04.png" id="28_167g6"]
[ext_resource type="Texture2D" uid="uid://8uo0lxkmknas" path="res://assets/sprites/vagabond/run/run05.png" id="29_k5cds"]
[ext_resource type="Texture2D" uid="uid://6pccflpkkf4t" path="res://assets/sprites/vagabond/run/run06.png" id="30_7iqj1"]
[ext_resource type="Texture2D" uid="uid://ijbx2a2gn1mn" path="res://assets/sprites/vagabond/run/run07.png" id="31_pb54o"]
[ext_resource type="Texture2D" uid="uid://cqrbcsdvq80r4" path="res://assets/sprites/vagabond/run/run08.png" id="32_fogdl"]
[ext_resource type="Script" path="res://scripts/state_machine.gd" id="33_uj008"]
[ext_resource type="Script" path="res://scripts/idle.gd" id="34_lhrsb"]
[ext_resource type="Script" path="res://scripts/jump.gd" id="35_tr2qj"]
[ext_resource type="Script" path="res://scripts/move.gd" id="36_x54no"]
[ext_resource type="Script" path="res://scripts/fall.gd" id="37_tggdf"]
[ext_resource type="Script" path="res://scripts/die.gd" id="38_64pr2"]

[sub_resource type="SpriteFrames" id="SpriteFrames_teqna"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_4yj44")
}, {
"duration": 1.0,
"texture": ExtResource("3_62iae")
}, {
"duration": 1.0,
"texture": ExtResource("4_heomt")
}, {
"duration": 1.0,
"texture": ExtResource("5_3ocgs")
}, {
"duration": 1.0,
"texture": ExtResource("6_p1y45")
}, {
"duration": 1.0,
"texture": ExtResource("7_ud4ha")
}, {
"duration": 1.0,
"texture": ExtResource("8_duylg")
}],
"loop": false,
"name": &"die",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_oby6r")
}],
"loop": true,
"name": &"fall",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_i0ki3")
}, {
"duration": 1.0,
"texture": ExtResource("3_hcxj0")
}, {
"duration": 1.0,
"texture": ExtResource("4_ijbeg")
}, {
"duration": 1.0,
"texture": ExtResource("5_8dxds")
}, {
"duration": 1.0,
"texture": ExtResource("6_5u56i")
}, {
"duration": 1.0,
"texture": ExtResource("7_7jlxp")
}, {
"duration": 1.0,
"texture": ExtResource("8_xjdlw")
}, {
"duration": 1.0,
"texture": ExtResource("9_asr0c")
}, {
"duration": 1.0,
"texture": ExtResource("10_aom8w")
}, {
"duration": 1.0,
"texture": ExtResource("11_joj13")
}, {
"duration": 1.0,
"texture": ExtResource("12_mp1gk")
}, {
"duration": 1.0,
"texture": ExtResource("13_6vis8")
}, {
"duration": 1.0,
"texture": ExtResource("14_w70un")
}, {
"duration": 1.0,
"texture": ExtResource("15_ybwnu")
}, {
"duration": 1.0,
"texture": ExtResource("16_jgyt7")
}, {
"duration": 1.0,
"texture": ExtResource("17_hg5iy")
}, {
"duration": 1.0,
"texture": ExtResource("18_gcfrs")
}, {
"duration": 1.0,
"texture": ExtResource("19_1rde4")
}, {
"duration": 1.0,
"texture": ExtResource("20_dv5jo")
}, {
"duration": 1.0,
"texture": ExtResource("21_xdhil")
}],
"loop": true,
"name": &"idle",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("23_dg3jf")
}, {
"duration": 1.0,
"texture": ExtResource("2_oby6r")
}, {
"duration": 1.0,
"texture": ExtResource("24_uldx0")
}],
"loop": false,
"name": &"jump",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("25_rsc81")
}, {
"duration": 1.0,
"texture": ExtResource("26_34r3a")
}, {
"duration": 1.0,
"texture": ExtResource("27_olq1g")
}, {
"duration": 1.0,
"texture": ExtResource("28_167g6")
}, {
"duration": 1.0,
"texture": ExtResource("29_k5cds")
}, {
"duration": 1.0,
"texture": ExtResource("30_7iqj1")
}, {
"duration": 1.0,
"texture": ExtResource("31_pb54o")
}, {
"duration": 1.0,
"texture": ExtResource("32_fogdl")
}],
"loop": true,
"name": &"move",
"speed": 10.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_blsat"]
size = Vector2(8, 20)

[node name="Vagabond" type="CharacterBody2D"]
z_index = 5
collision_layer = 2
script = ExtResource("1_xmx3j")

[node name="animations" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -32)
sprite_frames = SubResource("SpriteFrames_teqna")
animation = &"die"
autoplay = "idle"
frame = 6
frame_progress = 1.0

[node name="collision" type="CollisionShape2D" parent="."]
position = Vector2(-1, -10)
shape = SubResource("RectangleShape2D_blsat")

[node name="state_machine" type="Node" parent="." node_paths=PackedStringArray("starting_state")]
script = ExtResource("33_uj008")
starting_state = NodePath("idle")

[node name="idle" type="Node" parent="state_machine" node_paths=PackedStringArray("fall_state", "jump_state", "move_state")]
script = ExtResource("34_lhrsb")
fall_state = NodePath("../fall")
jump_state = NodePath("../jump")
move_state = NodePath("../move")
animation_name = "idle"

[node name="move" type="Node" parent="state_machine" node_paths=PackedStringArray("fall_state", "idle_state", "jump_state")]
script = ExtResource("36_x54no")
fall_state = NodePath("../fall")
idle_state = NodePath("../idle")
jump_state = NodePath("../jump")
animation_name = "move"

[node name="fall" type="Node" parent="state_machine" node_paths=PackedStringArray("idle_state", "move_state")]
script = ExtResource("37_tggdf")
idle_state = NodePath("../idle")
move_state = NodePath("../move")
animation_name = "fall"

[node name="jump" type="Node" parent="state_machine" node_paths=PackedStringArray("fall_state", "idle_state", "move_state")]
script = ExtResource("35_tr2qj")
fall_state = NodePath("../fall")
idle_state = NodePath("../idle")
move_state = NodePath("../move")
animation_name = "jump"

[node name="die" type="Node" parent="state_machine" node_paths=PackedStringArray("timer")]
script = ExtResource("38_64pr2")
timer = NodePath("Timer")
animation_name = "die"

[node name="Timer" type="Timer" parent="state_machine/die"]

[connection signal="timeout" from="state_machine/die/Timer" to="state_machine/die" method="_on_timer_timeout"]
